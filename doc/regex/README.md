# 正则表达式 学习笔记

## 1. 基本概念
- `Regular Expression`使用单个字符来描述、匹配一系列符合某个语法规则的字符串。
- 即为：按照某种规则去匹配符合条件的字符串；  
- [正则表达式在线解析工具](https://regexper.com/)；

## 2. RegExp 对象
- `JavaScript`通过内置对象`RegExp`支持正则表达式；
- 有两种方法实例化`RegExp`对象

### 2.1 构造RegExp对象
字面量：
``` javascript
var reg = /\bis\b/;
```
构造函数：
``` javascript
var reg = new RegExp('\\bis\\b')
```

### 2.2 修饰符
修饰符决定了文本的检索模式，加载正则表达式的结尾，可以混合使用多个修饰符。
- `g`：全文检索，若不添加只匹配到第一个为止；
- `i`：忽略大小写；
- `m`：多行搜索；
``` javascript
//将每一行以a或b或c结尾的字符替换为x
'a1b2c3d4'.replace(/[abc]$/gm,'x');
```


### 2.3 元字符
正则表示由两种基本字符构成：
- 原义字符：表示字符原来含义的字符；
- 元字符：在正则表达式中有特殊含义的非字母字符；元字符的含义并不唯一；
``` javascript
* + ? $ ^ . | \ ( ) [ ] { }
```
常用元字符：
``` javascript
\t 	//水平制表符
\v	//垂直制表符
\n	//换行符
\r 	//回车符
\0	//空字符
\f 	//换页符
```

### 2.4 字符类
- 使用元字符`[ ]`来构建一个简单类；使用`^`可以将类取反；
- 一般情况下，正则表达式一个字符对应字符串的一个字符，但有时我们希望匹配一系列特征的一类字符；
- 类即为符合某些特征的对象，一个泛指，而不是具体的某个字符；
- 表达式`[abc]`把字符`a`或`b`或`c`归为一类，表达式可以匹配这类的字符；

范例：
``` javascript
//将a,b,c替换为x
'a1b2c3d4'.replace(/[abc]/g,'x');
//将不是a,b,c的字符替换为x
'a1b2c3d4'.replace(/[^abc]/g,'x');
```

### 2.5 范围类
- 使用元字符`-`可以表示一个范围；
- 使用`[a-z]`可以创建一个范围类，表示从a到z的任意字符；
- 这是个闭区间，也就是包含a和z本身；
- 在`[]`组内部是可以连写的，如`[a-zA-Z]`；

范例：
``` javascript
//将a-c的字符替换为Q
'a1b2d3x4z9'.replace(/[a-c]/g, 'Q')
//连写匹配
'a1b2d3x4z9A1B2C3'.replace(/[a-cA-C]/g, 'Q')
```

### 2.6 预定义类
正则表达式中的预定义类：
``` javascript
. 		//除了回车和换行的所有字符
\d		//数字字符(digit)
\D		//非数字字符
\s		//空白字符(space)
\S		//非空白字符
\w		//单词字符(word, 字母/数字/下划线)
\W		//非单词字符
```

### 2.7 边界
正则表达式中的边界：
``` javascript
^		//开始
$		//结束
\b		//单词边界(boundary)	
\B		//非单词边界	
```

范例：
``` javascript
//匹配整个is单词
'this is a boy'.replace(/\bis\b/g, 0)
```

### 2.8 量词
正则表达式中的量词：
``` javascript
?		//出现0次或1次（至多1次）
+       //出现1次或多次（至少1次）
*       //出现0次或多次（任意次）
{n}		//出现n次
{n,m}	//出现n到m次
{n,}	//至少出现n次
```

### 2.9 贪婪模式
- 贪婪模式：默认的模式，会尽可能匹配更多字符；
- 非贪婪模式：在量词后加`?`让正则表达式尽可能更少的匹配，也就是说一旦成功匹配将不再继续尝试；

``` javascript
//贪婪模式 -> "x78"
'12345678'.replace(/\d{3,6}/g, 'x')
//非贪婪模式 -> "xx78"
'12345678'.replace(/\d{3,6}?/g, 'x')
```